#!/bin/bash

P_NAME="FOSS License Checker"
LOG_FILE=configure.log

check_dependencies()
{
    java -h >> $LOG_FILE 2>&1
    if [ $? -ne 0 ]
    then
        echo "Java seems to be missing."
        echo "You need install Java JDK"
        echo
        exit 1
    fi
    
    make -v >> $LOG_FILE 2>&1
    if [ $? -ne 0 ]
    then
        echo "GNU Make seems to be missing."
        echo "You need install GNU make"
        echo
        exit 1
    fi
    
    jq -h >> $LOG_FILE 2>&1
    if [ $? -ne 0 ]
    then
        echo "jq seems to be missing."
        echo "You need install it before using  $P_NAME"
        exit 1
    fi
}

get_java_libs()
{
    make dload-libs
}


echo -n "Check dependencies: "
check_dependencies
echo "OK"

echo -n "Download java libs: "
get_java_libs >> $LOG_FILE 2>&1
echo "OK"




